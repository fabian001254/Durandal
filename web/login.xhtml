<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous"></link>
  <link rel="stylesheet" href="assets/css/stylelogin.css"></link>
  <link rel="shortcut icon" href="assets/img/icon.jpg" type="image/x-icon"></link>
  <title>Inicio de sesión</title>
</h:head>

<h:body>
  <p:growl id="growl" showDetail="true" />
  <p:growl id="growl-sticky" for="sticky-key" showDetail="true" sticky="true" />
  <div class="container mt-3 p-3 d-flex" style="border-radius: 8%;">
    <div class="row">
      <div class="col-md-5 p-3 ml-5 mr-5" style="text-align: center;">
        <div class="card w-auto"
          style="box-shadow: 0px 0px 14px 5px rgba(0, 0, 0, 0.61); border-radius: 50px; outline: none; font-size: 20px;">
          <div class="card-body justify-content-center">
            <h2 class="mb-3" style="color: black; font-family: Gilroy-Heavy;">INICIO DE SESIÓN</h2>

            <h:form>
              <div class="form-row">
                <div class="col-md mb-2">
                  <p:outputLabel for="Correo" value="Correo: "
                    style="text-align: center;font-size: 18px;font-weight: bold;font-family:Gilroy-Light ;" />
                  <div class="form-row">
                    <p:inputText id="Correo" value="#{usuariosControlador.correo}" required="true"
                      validatorMessage="Formato de correo invalido"
                      requiredMessage="Debe especificar el correo">
                      <f:validateRegex
                        pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                    </p:inputText>
                    <p:message for="Correo" style="color: red;" />
                  </div>
                </div>
              </div>

              <div class="form-row">
                <div class="col-md-12 mb-1">
                  <p:outputLabel for="clave" value="Contraseña: "
                    style="text-align: center;font-size: 18px;font-weight: bold;font-family:Gilroy-Light ;" />
                  <div class="form-row">

                    <h:inputSecret id="clave" value="#{usuariosControlador.contraseña}" title="Clave" required="true"
                      validatorMessage="Ingrese la contraseña" />
                    <p:message for="clave" style="color: red;" />
                  </div>
                  <a onclick="PF('wdlgPer').show()" href="#">¿Olvidó su contraseña?</a>
                </div>
              </div>
              <p:commandButton value="Ingresar" styleClass=" mb-3" actionListener="#{usuariosControlador.login()}"
                ajax="false" />
            </h:form>
          </div>
        </div>
      </div>
      <div class="col-md-5 text-center" style="font-size: 23px;">
        <img src="../assets/img/login.svg" width="120%" class="pr-5" style="margin-top: 13%;"></img>
        <div class="col-md-12 d-flex justify-content-around mt-3">
            <div class="col-md-6">
                <h:form>
                    <p:commandButton action="register_cl.xhtml" style="border-radius: 30px" styleClass="boton_personalizado1 mb-3m" value="Registro cliente" />
                </h:form>       
            </div>
            <div class="col-md-6">
                <h:form>
                    <p:commandButton action="register_as.xhtml" style="border-radius: 30px" styleClass="boton_personalizado1 mb-3m" value="Registro aspirante" />
                </h:form>
            </div>
        </div>
      </div>
    </div>
  </div>

    <p:dialog header="Restauracion de contraseña" styleClass="justify-content-center text-center w-50" id="dlgPer"
          widgetVar="wdlgPer">
          <h:form>
              <div class="col-md-12 d-flex">
                  <div class="col-md-6">
                       <p:outputLabel for="Documento" value="Numero de documento: " style="text-align: center;font-size: 18px;font-weight: bold;font-family:Gilroy-Light ;"/>                    
                            <div class="form-group">              
                                <p:inputText id="Documento" value="#{usuariosControlador.documento}" required="true" requiredMessage="No ha especificado el documento" style="width: auto " />
                                      <p:message for="Documento" style="color: red;"/>                     
                            </div>
                            <p:outputLabel for="Apellido" value="Segundo apellido: " style="text-align: center;font-size: 18px;font-weight: bold;font-family:Gilroy-Light ;"/>                    
              <div class="form-group">              
                  <p:inputText id="Apellido" value="#{usuariosControlador.apellido2}" required="true" requiredMessage="No ha especificado el segundo apellido" style="text-align: center;font-size: 18px;font-weight: bold;font-family:Gilroy-Light ;" />
                        <p:message for="Apellido" style="color: red;"/>                     
              </div>
                  </div>
                  <div class="col-md-6">
                      <p:outputLabel for="Nombre" value="Primer nombre: " style="text-align: center;font-size: 18px;font-weight: bold;font-family:Gilroy-Light ;"/>                    
                            <div class="form-group">              
                                <p:inputText id="Nombre" value="#{usuariosControlador.nombre1}" required="true" requiredMessage="No ha especificado el nombre" style="width: auto " />
                                      <p:message for="Nombre" style="color: red;"/>                     
                            </div>
             <p:outputLabel for="Fechan" value="Fecha de nacimiento: " style="text-align: center;font-size: 18px;font-weight: bold;font-family:Gilroy-Light ;"/>
                <div class="form-group">                                                        
                    <p:datePicker id="Fechan" value="#{usuariosControlador.fechanacimiento}"  required="true" requiredMessage="Fecha no valida" pattern="yyyy-MM-dd"/>
                          <p:message for="Fechan" style="color: red;"/>                           
                </div>     
                  </div>
              </div>
                             <p:outputLabel for="Correo" value="Correo electronico: " style="text-align: center;font-size: 18px;font-weight: bold;font-family:Gilroy-Light ;"/>                    
              <div class="form-group">              
                  <p:inputText id="Correo" value="#{usuariosControlador.correo1}" required="true" requiredMessage="No ha especificado el correo" style="width: auto " />
                        <p:message for="Correo" style="color: red;"/>                     
              </div>    
                          <p:commandButton value="Restablecer contraseña" 
                                           actionListener="#{usuariosControlador.restaurar()}"
                                               class=" mb-3" 
                                              ajax="false"/> 
              </h:form>
        </p:dialog>
</h:body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
    crossorigin="anonymous"></script>
</html>